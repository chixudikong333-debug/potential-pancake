<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>写实小太阳鹦鹉 - 刷新换色静态主页</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background-color: #f5f7fa;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            font-family: "Arial", sans-serif;
        }

        /* 页面标题样式 */
        .page-title {
            color: #2d3436;
            margin-bottom: 40px;
            font-size: 2.2rem;
            text-align: center;
        }

        /* 写实鹦鹉容器（响应式适配，保持图案比例） */
        .parrot-container {
            width: 100%;
            max-width: 500px;
            height: auto;
            transition: all 0.3s ease;
        }

        /* SVG部件通用过渡（刷新换色更流畅，无生硬跳转） */
        svg .parrot-part {
            transition: fill 0.8s ease, stroke 0.8s ease;
        }

        /* 响应式适配小屏幕，避免图案变形 */
        @media (max-width: 600px) {
            .page-title {
                font-size: 1.6rem;
                margin-bottom: 25px;
            }

            .parrot-container {
                max-width: 380px;
            }
        }
    </style>
</head>
<body>
    <h1 class="page-title">写实小太阳鹦鹉 - 刷新换色</h1>
    <!-- SVG绘制写实小太阳鹦鹉（核心：多层元素叠加实现写实感，无图片） -->
    <!-- 小太阳鹦鹉写实特征：红橙颊斑、分层翅膀、流线型身体、长尾羽纹理、弯钩喙、写实爪部、眼白+瞳孔 -->
    <div class="parrot-container" id="parrotContainer">
        <svg viewBox="0 0 400 600" xmlns="http://www.w3.org/2000/svg">
            <!-- 1. 长尾羽（分层实现写实感，小太阳鹦鹉标志性长尾） -->
            <path class="parrot-part" id="tailOuter1" d="M180,450 C150,580 160,590 190,480 Z" fill="#e0a800" stroke="#2d3436" stroke-width="1.5"/>
            <path class="parrot-part" id="tailOuter2" d="M220,450 C250,580 240,590 210,480 Z" fill="#e0a800" stroke="#2d3436" stroke-width="1.5"/>
            <path class="parrot-part" id="tailInner1" d="M190,440 C170,550 180,560 200,460 Z" fill="#f1c40f" stroke="#2d3436" stroke-width="1.5"/>
            <path class="parrot-part" id="tailInner2" d="M210,440 C230,550 220,560 200,460 Z" fill="#f1c40f" stroke="#2d3436" stroke-width="1.5"/>
            <!-- 2. 身体/腹部（双层叠加模拟光影，更写实） -->
            <ellipse class="parrot-part" id="bodyMain" cx="200" cy="350" rx="70" ry="90" fill="#f3d44f" stroke="#2d3436" stroke-width="2"/>
            <ellipse class="parrot-part" id="bodyShadow" cx="190" cy="360" rx="60" ry="80" fill="#e9c947" stroke="none" opacity="0.7"/>
            <!-- 3. 翅膀（分层绘制：初级飞羽+次级飞羽，还原鹦鹉翅膀结构） -->
            <!-- 左侧翅膀 -->
            <path class="parrot-part" id="wingLeftPrimary" d="M130,300 C90,250 80,350 130,400 Z" fill="#d4ac00" stroke="#2d3436" stroke-width="1.5"/>
            <path class="parrot-part" id="wingLeftSecondary" d="M130,300 C110,270 110,330 130,360 Z" fill="#e6b800" stroke="#2d3436" stroke-width="1.5"/>
            <!-- 右侧翅膀 -->
            <path class="parrot-part" id="wingRightPrimary" d="M270,300 C310,250 320,350 270,400 Z" fill="#d4ac00" stroke="#2d3436" stroke-width="1.5"/>
            <path class="parrot-part" id="wingRightSecondary" d="M270,300 C290,270 290,330 270,360 Z" fill="#e6b800" stroke="#2d3436" stroke-width="1.5"/>
            <!-- 4. 颈部（带弧度，贴合身体与头部的衔接） -->
            <path class="parrot-part" id="neck" d="M180,260 C170,280 230,280 220,260 C230,220 170,220 180,260 Z" fill="#f8e06b" stroke="#2d3436" stroke-width="2"/>
            <!-- 5. 头部（双层+颊斑，小太阳鹦鹉核心写实特征） -->
            <circle class="parrot-part" id="headMain" cx="200" cy="200" r="60" fill="#fce879" stroke="#2d3436" stroke-width="2"/>
            <circle class="parrot-part" id="headShadow" cx="190" cy="205" r="55" fill="#f9e062" stroke="none" opacity="0.7"/>
            <!-- 标志性颊斑（小太阳鹦鹉识别度核心，左右对称） -->
            <ellipse class="parrot-part" id="cheekPatchLeft" cx="160" cy="200" rx="15" ry="20" fill="#e74c3c" stroke="#2d3436" stroke-width="1"/>
            <ellipse class="parrot-part" id="cheekPatchRight" cx="240" cy="200" rx="15" ry="20" fill="#e74c3c" stroke="#2d3436" stroke-width="1"/>
            <!-- 6. 喙部（弯钩形状，还原鹦鹉写实喙，分上下喙） -->
            <path class="parrot-part" id="beakUpper" d="M200,200 C230,180 250,190 220,210 Z" fill="#f39c12" stroke="#2d3436" stroke-width="1.5"/>
            <path class="parrot-part" id="beakLower" d="M200,200 C230,210 250,200 220,190 Z" fill="#e67e22" stroke="#2d3436" stroke-width="1.5"/>
            <!-- 7. 眼睛（写实结构：眼白+瞳孔+高光，更生动） -->
            <circle class="parrot-part" id="eyeLeftWhite" cx="170" cy="190" r="8" fill="#ffffff" stroke="#2d3436" stroke-width="1"/>
            <circle class="parrot-part" id="eyeRightWhite" cx="230" cy="190" r="8" fill="#ffffff" stroke="#2d3436" stroke-width="1"/>
            <circle id="eyeLeftPupil" cx="170" cy="190" r="4" fill="#000000" stroke="none"/>
            <circle id="eyeRightPupil" cx="230" cy="190" r="4" fill="#000000" stroke="none"/>
            <circle id="eyeLeftHighlight" cx="168" cy="187" r="2" fill="#ffffff" stroke="none"/>
            <circle id="eyeRightHighlight" cx="228" cy="187" r="2" fill="#ffffff" stroke="none"/>
            <!-- 8. 爪部（写实分叉结构，不再是简单直线） -->
            <path class="parrot-part" id="clawLeft" d="M170,450 L150,480 L145,475 L155,490" stroke="#8c6d31" stroke-width="2" fill="none"/>
            <path class="parrot-part" id="clawRight" d="M230,450 L250,480 L255,475 L245,490" stroke="#8c6d31" stroke-width="2" fill="none"/>
        </svg>
    </div>

    <script>
        // 1. 配置参数（写实小太阳鹦鹉可变色部件数组，瞳孔/高光保留固定颜色保证辨识度）
        const PARROT_PARTS = [
            // 尾羽
            'tailOuter1', 'tailOuter2', 'tailInner1', 'tailInner2',
            // 身体
            'bodyMain', 'bodyShadow',
            // 翅膀
            'wingLeftPrimary', 'wingLeftSecondary', 'wingRightPrimary', 'wingRightSecondary',
            // 颈部+头部
            'neck', 'headMain', 'headShadow',
            // 颊斑+喙部+爪部
            'cheekPatchLeft', 'cheekPatchRight', 'beakUpper', 'beakLower', 'clawLeft', 'clawRight',
            // 眼白
            'eyeLeftWhite', 'eyeRightWhite'
        ];

        // 2. 生成随机颜色（贴合小太阳鹦鹉羽毛色系，高饱和度更写实，避免极端颜色）
        function getRandomColor() {
            // 限制色相范围（30-60：暖黄/橙系，1-20：红橙颊斑系，保证写实感，同时保留随机性）
            const hueRanges = [
                [30, 60],  // 主体羽毛：黄/橙黄
                [1, 20]    // 颊斑：红/橙红
            ];
            const selectedRange = hueRanges[Math.floor(Math.random() * hueRanges.length)];
            const hue = Math.floor(Math.random() * (selectedRange[1] - selectedRange[0] + 1)) + selectedRange[0];
            const saturation = 65 + Math.floor(Math.random() * 20); // 饱和度65-85%，鲜艳贴合鹦鹉羽毛
            const lightness = 40 + Math.floor(Math.random() * 25); // 亮度40-65%，避免过亮/过暗
            return `hsl(${hue}, ${saturation}%, ${lightness}%)`;
        }

        // 3. 生成配套描边色（比填充色深20%，增强写实图案的轮廓层次感）
        function getStrokeColor(fillColor) {
            const hslMatch = fillColor.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);
            if (!hslMatch) return '#2d3436';
            const [h, s, l] = hslMatch.slice(1).map(Number);
            const darkLightness = Math.max(20, l - 20); // 最低亮度不低于20%，保证描边清晰可见
            return `hsl(${h}, ${s}%, ${darkLightness}%)`;
        }

        // 4. 更新单个鹦鹉部件颜色
        function updatePartColor(partId) {
            const part = document.getElementById(partId);
            if (!part) return;

            const fillColor = getRandomColor();
            const strokeColor = getStrokeColor(fillColor);

            // 区分部件类型设置颜色（线条部件无fill，仅设置stroke；阴影部件无描边）
            if (part.tagName === 'PATH' && part.getAttribute('stroke') === 'none') {
                part.setAttribute('fill', fillColor);
            } else if (part.tagName === 'PATH' && part.getAttribute('fill') === 'none') {
                part.setAttribute('stroke', fillColor);
            } else if (part.tagName === 'LINE' || (part.tagName === 'PATH' && part.getAttribute('fill') === 'none')) {
                part.setAttribute('stroke', fillColor);
            } else {
                part.setAttribute('fill', fillColor);
                if (part.getAttribute('stroke') !== 'none') {
                    part.setAttribute('stroke', strokeColor);
                }
            }
        }

        // 5. 批量更新所有鹦鹉部件颜色（换色核心逻辑）
        function updateAllParrotColors() {
            PARROT_PARTS.forEach(partId => {
                updatePartColor(partId);
            });
        }

        // 6. 页面加载（刷新）时触发换色（核心：实现仅刷新网页换色，无自动变化）
        window.onload = function() {
            updateAllParrotColors();
        };
    </script>
</body>
</html>
